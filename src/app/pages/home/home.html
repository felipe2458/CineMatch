<main>
  <header>
    <div class="wrapper-content-header">
      <div class="content-header">
        <div>
          <button (click)="showContributors();">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye h-8 w-8 text-purple-400">
              <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"></path>
              <circle cx="12" cy="12" r="3"></circle>
            </svg>
          </button>

          <h1>CineMatch</h1>
        </div>

        <div>
          <input type="text" id="search" name="search" [(ngModel)]="search" (input)="searchMovies()"/>
          <div class="label-wrapper">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search search-icon">
              <circle cx="11" cy="11" r="8"></circle>
              <path d="m21 21-4.3-4.3"></path>
            </svg>
            <label #searchLabel for="search">Buscar filmes...</label>
          </div><!-- label-wrapper -->
        </div>
      </div><!-- content-header -->
    </div><!--  wrapper-content-header -->
  </header>

  <section class="hero">
    <div class="hero-wrapper">
       <h1>Descubra Seu Próximo <span>Filme Favorito</span></h1>

       <p>Explore nossa coleção cuidadosamente selecionada de filmes e séries incríveis. De blockbusters a joias escondidas, encontre exatamente o que você está procurando.</p>
    </div><!-- hero-wrapper -->
  </section><!-- hero -->

  <section class="filter-wrapper">
    <!--<div class="filter-options">
      <div class="wrapper-title-filter-options">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-filter filter-icon">
          <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>
        </svg>

        <h3>Filtros:</h3>
      </div><!-- wrapper-title-filter-options

      <div class="wrapper-filter-options">
        <select name="genre">
          <option selected value="all">Todos os gêneros</option>
          <option value="action">Ação</option>
          <option value="ScienceFiction">Ficção científica</option>
          <option value="Drama">Drama</option>
          <option value="Comedy">Comédia</option>
          <option value="Horror">Terror</option>
          <option value="Thriller">Suspense</option>
          <option value="Romance">Romance</option>
          <option value="Animation">Animação</option>
          <option value="Documentary">Documentário</option>
          <option value="Music">Música</option>
          <option value="Family">Família</option>
          <option value="Adventure">Aventura</option>
          <option value="Fantasy">Fantasia</option>
          <option value="Mystery">Mistério</option>
          <option value="History">História</option>
          <option value="Crime">Crime</option>
        </select>
      </div><!--  wrapper-filter-options
    </div><!-- filter-options -->

    <div class="filter-selected">
      <div class="input-select-wrapper">
        <input type="radio" id="all-category" name="select-category" checked (change)="changeCategory($event)" value="all">
        <label for="all-category">
          <p>Todos</p>
          <span>{{ allFilmsLength }}</span>
        </label>
      </div><!-- input-select-wrapper -->

      <div class="input-select-wrapper">
        <input type="radio" id="favorites" name="select-category" (change)="changeCategory($event)" value="favorites">
        <label for="favorites">
          <p>Favoritos</p>
          <span>{{ favoriteFilmsLength }}</span>
        </label>
      </div><!-- input-select-wrapper -->

      <div class="input-select-wrapper">
        <input type="radio" id="popular" name="select-category" (change)="changeCategory($event)" value="popular">
        <label for="popular">
          <p>Popular</p>
          <span>{{ popularFilmsLength }}</span>
        </label>
      </div><!-- input-select-wrapper -->

      <div class="input-select-wrapper">
        <input type="radio" id="onTheRise" name="select-category" (change)="changeCategory($event)" value="onTheRise">
        <label for="onTheRise">
          <p>Em Alta</p>
          <span>{{ onTheRiseFilmsLength }}</span>
        </label>
      </div><!-- input-select-wrapper -->
    </div><!-- filter-selected -->
  </section><!-- filter-wrapper -->

  <section class="container-cards">
    @for(film of films; track film){
      <app-card
        [film]="film"
        (changeFavoriteInp)="_changeFavorite()"
        (changeMoreInfosFilm)="changeMoreInfosFilm($event)"
      ></app-card>
    }
  </section><!-- container-cards -->

  <div class="container-moreInfos"
    [ngStyle]="{
      'display': moreInfosFilmVal.display ? 'block' : 'none',
      'opacity': moreInfosFilmVal.opacity ? '1' : '0'
    }"
  >
    <app-more-infos-film
      [film]="moreInfosFilmSelected"
      (changeMoreInfosFilm)="changeMoreInfosFilm(null)"
    ></app-more-infos-film>
  </div><!-- container-moreInfos -->

  @if(viewContributors){
    <div class="container-view-contributors">
      <div class="overlay" (click)="showContributors();"></div><!-- overlay -->

      <div class="view-contributors-wrapper">
        <header>
          <h2>Contribuidores</h2>
        </header>

        <div class="view-contributs">
          <section>
            <h3>Luiz Felipe Alves</h3>
            <h3>Rafael Ribeiro</h3>
            <h3>Keyrrisson Ryan</h3>
          </section>

          <footer>
            <h4>Ano letivo 2025</h4>
            <h4>Turma 9E</h4>
            <h4>CCMDF 507 Samambaia Sul</h4>
          </footer>
        </div><!-- view-contributs -->
      </div><!-- view-contributors-wrapper -->
    </div><!--  container-view-contributors -->
  }
</main>
